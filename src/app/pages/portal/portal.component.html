<mat-sidenav-container class="fadq-main-container">

  <igo-backdrop
    [shown]="backdropShown"
    (click)="closeSidenav()">
  </igo-backdrop>

  <button
    mat-icon-button
    id="menu-button"
    class="fadq-menu-button"
    color="primary"
    tooltip-position="below"
    matTooltipShowDelay="500"
    [matTooltip]="(sidenavOpened ? 'menu.close' : 'menu.open') | translate"
    (click)="toggleSidenav()">
    <mat-icon>
      <ng-container>menu</ng-container>
    </mat-icon>
  </button>

  <fadq-search-bar [dataStore]="searchStore"></fadq-search-bar>

  <fadq-sidenav
    [(opened)]="sidenavOpened"
    [tool]="toolService.selectedTool$ | async">
  </fadq-sidenav>

  <igo-map-browser
    igoQuery
    igoOverlay
    igoMapContext
    igoLayerContext
    igoDropGeoFile
    igoMapBrowserBinding
    [map]="map"
    (query)="handleQueryResults($event)">
  </igo-map-browser>
</mat-sidenav-container>

<div class="fadq-footer">
  <fadq-map-toolbar [map]="map"></fadq-map-toolbar>
</div>

<fadq-expansion-panel
  [(expanded)]="expansionPanelExpanded"
  [backdropShown]="expansionPanelBackdropShown">
</fadq-expansion-panel>

<fadq-info-panel
  [(opened)]="infoPanelOpened"
  [records]="searchStore.focused$ | async">
</fadq-info-panel>
