{
  "uri": "geostyler",
  "base": "_base",
  "layers": [
    {
      "title": "Lines - WFS",
      "visible": false,
      "minResolution": 0,
      "maxResolution": 400,
      "sourceOptions": {
        "type": "wfs",
        "url": "https://ws.mapserver.transports.gouv.qc.ca/swtq",
        "queryable": true,
        "queryTitle": "num_rts",
        "params": {
          "featureTypes": "bgr_v_sous_route_res_sup_act",
          "fieldNameGeometry": "geometry",
          "maxFeatures": 15000,
          "outputFormat": "geojson"
        }
      },
      "igoStyle": {
        "geostylerStyle": {
          "global": {
            "name": "",
            "rules": [
              {
                "name": "Autoroute MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#e20a16",
                    "width": 5,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ffd80c",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Autoroute"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Autoroute (Gestion fédérale ou PPP)",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#e20a16",
                    "width": 5,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ffebbe",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Autoroute"],
                  ["!=", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Nationale (Gestion fédérale ou PPP",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#ab595d",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ed8186",
                    "width": 2,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Nationale"],
                  ["!=", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Nationale MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#62050a",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#f00000",
                    "width": 2,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Nationale"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Régionale MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#000000",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#e7971d",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Régionale"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Collectrice MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#861c24",
                    "width": 3,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#e7641d",
                    "width": 2.5,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Collectrice"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Accès aux ressources et accès aux localités isolées MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#5f5d5c",
                    "width": 2,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#d2d2d2",
                    "width": 1,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  [
                    "||",
                    ["==", "des_clasf_", "Accès aux ressources"],
                    [
                      "==",
                      "des_clasf_",
                      "Accès aux ressources et aux localités isolées"
                    ]
                  ],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Local 1-2-3 MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#5f5d5c",
                    "width": 2,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#d2d2d2",
                    "width": 1,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  [
                    "||",
                    ["==", "des_clasf_", "Local 1"],
                    ["==", "des_clasf_", "Local 2"],
                    ["==", "des_clasf_", "Local 3"]
                  ],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              }
            ]
          }
        }
      }
    },
    {
      "title": "Lines - MVT",
      "id": "mvtsbap",
      "visible": true,
      "maxResolution": 1500,
      "sourceOptions": {
        "queryable": true,
        "queryTitle": "num_rts",
        "featureClass": "feature",
        "type": "mvt",
        "url": "https://ws.mapserver.transports.gouv.qc.ca/swtq?mode=tile&tilemode=gmap&tile={x}+{y}+{z}&layers=bgr_v_sous_route_res_sup_act&map.imagetype=mvt"
      },
      "igoStyle": {
        "geostylerStyle": {
          "global": {
            "name": "",
            "rules": [
              {
                "name": "Autoroute MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#e20a16",
                    "width": 5,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ffd80c",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Autoroute"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Autoroute (Gestion fédérale ou PPP)",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#e20a16",
                    "width": 5,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ffebbe",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Autoroute"],
                  ["!=", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Nationale (Gestion fédérale ou PPP",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#ab595d",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#ed8186",
                    "width": 2,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Nationale"],
                  ["!=", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Nationale MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#62050a",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#f00000",
                    "width": 2,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Nationale"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Régionale MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#000000",
                    "width": 4,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#e7971d",
                    "width": 3,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Régionale"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Collectrice MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#861c24",
                    "width": 3,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#e7641d",
                    "width": 2.5,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  ["==", "des_clasf_", "Collectrice"],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Accès aux ressources et accès aux localités isolées MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#5f5d5c",
                    "width": 2,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#d2d2d2",
                    "width": 1,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  [
                    "||",
                    ["==", "des_clasf_", "Accès aux ressources"],
                    [
                      "==",
                      "des_clasf_",
                      "Accès aux ressources et aux localités isolées"
                    ]
                  ],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              },
              {
                "name": "Local 1-2-3 MTQ",
                "symbolizers": [
                  {
                    "kind": "Line",
                    "color": "#5f5d5c",
                    "width": 2,
                    "visibility": true,
                    "join": "butt",
                    "opacity": 0.5,
                    "cap": "butt"
                  },
                  {
                    "kind": "Line",
                    "color": "#d2d2d2",
                    "width": 1,
                    "visibility": true,
                    "cap": "butt",
                    "join": "butt"
                  }
                ],
                "filter": [
                  "&&",
                  [
                    "||",
                    ["==", "des_clasf_", "Local 1"],
                    ["==", "des_clasf_", "Local 2"],
                    ["==", "des_clasf_", "Local 3"]
                  ],
                  ["==", "nom_orgns_", "MTQ"]
                ]
              }
            ]
          }
        }
      }
    }
  ]
}
